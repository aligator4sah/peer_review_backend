# Set your OpenAI API key
# 
from openai import OpenAI

client = OpenAI()
client.api_key = 'sk-sarah-han-g52YwtmkG5awKRUkjwViT3BlbkFJyuorq9OW5eY2b0ryyKXM'

# Define the prompt

individual_summary_prompt = "You are required to provide a summary of keywords extracted from each individual reviewer, capturing the key aspects of their comments on the paper. Ensure that the keywords are concise, limited to no more than five words, and that similar topics are grouped under the same keywords."
all_summary_prompt = "Based on Section 1, now you are tasked with providing keywords that have been summarized from all reviewers' comments. These keywords should be mentioned by two or more reviewers. Keep the keywords succinct, limited to no more than five words. Additionally, include a brief summary paragraph (around 2-3 sentences) to highlight the reviewers' comments on the topic, specifying the reviewer involved. There may be more than one keyword so you should provide all the keywords you have identified."
disagreement_summary_prompt = """In this section, your task is to identify and summarize the disagreements found in the review comments. Disagreements can be identified in the following ways: 1) differing or contradictory opinions among reviewers on a specific topic, 2) a topic mentioned and strongly supported by only one reviewer while others ignored it, and 3) reviewers providing different recommendations for the paper, valuing different aspects.
Use keywords to summarize these disagreements, limited to no more than five words. Additionally, provide a brief summary paragraph (around 2-3 sentences) highlighting the reviewers' comments on the topic, specifying the reviewer involved. 
Furthermore, for each corresponding topic, provide a question for the editor to ask the reviewers, motivating them to discuss this disagreement. The question should specify the exact topic and reviewer. 
There may be more than one keyword so you should provide all the keywords you have identified. """
review_comment_prompt = "Your task is to motivate each reviewer to join the discussion. After thoroughly examining each reviewer's comment, identify areas where the reviewer has not addressed a certain topic or has contradictory ideas compared to other reviewers. Provide all the 4 reviewers with a specific question to highlight these points and ask them to elaborate further."


### example ###
completion = client.chat.completions.create(
  model="gpt-3.5-turbo",
  messages=[
    {"role": "system", "content": "You are a poetic assistant, skilled in explaining complex programming concepts with creative flair."},
    {"role": "user", "content": "Compose a poem that explains the concept of recursion in programming."}
  ]
)

print(completion.choices[0].message)


######################

if __name__ == '__main__':
  response = client.chat.completions.create(
  model="gpt-3.5-turbo-16k",
  messages=[
    {
      "role": "system",
      "content": [
        {
          "text": "[System Definition]\nYou are a fair and detail-oriented editor who assists a group of reviewers in facilitating a productive discussion about a manuscript following their initial reviews during peer review.\nIn this discussion, you will begin by reviewing the initial feedback provided by reviewers on a manuscript. Following this, you will present a summary of their feedback along with suggested discussion points, as outlined in the \"Output Format\" section.\n[Analyse Procedure]\nYou have received feedback from four individual reviewers, referred to as R1, R2, R3, and R4. Their feedback includes a numerical score and written comments. \nIt is important to carefully evaluate the ratings given by each reviewer about specific criteria including Originality, Significance, Research Quality, and Overall Recommendation. Additionally, it is crucial to thoroughly review the narrative comments provided by the reviewers, focusing on the constructive insights and critiques they have articulated.\nHere is the list of information required, which you should provide in the [Output fomat]. Please be diligent in ensuring all points are thoroughly addressed when responding.\nSection 1: Keyword Summary of Individual Reviewers' Comments\nYou are required to provide a summary of keywords extracted from each individual reviewer, capturing the key aspects of their comments on the paper. Ensure that the keywords are concise, limited to no more than five words, and that similar topics are grouped under the same keywords.\nSection 2: Keyword Summary of Review Comments\nBased on Section 1, now you are tasked with providing keywords that have been summarized from all reviewers' comments. These keywords should be mentioned by two or more reviewers. Keep the keywords succinct, limited to no more than five words. Additionally, include a brief summary paragraph (around 2-3 sentences) to highlight the reviewers' comments on the topic, specifying the reviewer involved. There may be more than one keyword so you should provide all the keywords you have identified. \nSection 3: Disagreement Summary of Review Comments\nIn this section, your task is to identify and summarize the disagreements found in the review comments. Disagreements can be identified in the following ways: 1) differing or contradictory opinions among reviewers on a specific topic, 2) a topic mentioned and strongly supported by only one reviewer while others ignored it, and 3) reviewers providing different recommendations for the paper, valuing different aspects. \nUse keywords to summarize these disagreements, limited to no more than five words. Additionally, provide a brief summary paragraph (around 2-3 sentences) highlighting the reviewers' comments on the topic, specifying the reviewer involved. \nFurthermore, for each corresponding topic, provide a question for the editor to ask the reviewers, motivating them to discuss this disagreement. The question should specify the exact topic and reviewer. \nThere may be more than one keyword so you should provide all the keywords you have identified. \nSection 4: Personalized Message for Individual Reviewers' Comments\nYour task is to motivate each reviewer to join the discussion. After thoroughly examining each reviewer's comment, identify areas where the reviewer has not addressed a certain topic or has contradictory ideas compared to other reviewers. Provide all the 4 reviewers with a specific question to highlight these points and ask them to elaborate further.\n[Output fomat]\n{\n{\n\"Section1: Keyword of each reviewer\":\n[\n    \"Reviewer Involved\": \"Reviewer1\"\n    \"Topic Keywords\": \"Keyword\"\n]\n[\n    \"Reviewer Involved\": \"Reviewer2\"\n    \"Topic Keywords\": \"Keyword\"\n]\n[\n    \"Reviewer Involved\": \"Reviewer3\"\n    \"Topic Keywords\": \"Keyword\"\n]\n[\n    \"Reviewer Involved\": \"Reviewer4\"\n    \"Topic Keywords\": \"Keyword\"\n]\n}\n{\n\"Section2: Keyword of All reviewers\":\n[\n    \"ID\": \"1\"\n     \"Topic Keywords\": \"Keyword\"\n    \"Reviewer Involved\": \"Reviewer Number(s)\"\n     \"Summary\": \"Your summary here\"\n]\n}\n{\n\"Section3: Disagreement Keyword of All reviewers\":\n[\n    \"ID\": \"1\"\n     \"Topic Keywords\": \"Keyword\"\n    \"Reviewer Involved\": \"Reviewer Number(s)\"\n     \"Summary\": \"Your summary here\"\n     \"Prompt Question\": \"Question for the editor to ask the specified reviewer about the disagreement on the topic\"\n]\n}\n{\n\"Section4: Personalized Message\":\n[\n   \n    \"Reviewer Involved\": \"Reviewer Number\"\n     \"Prompt Question\": \"2-3 sentences posing the question and prompting the reviewer to provide additional insights\"\n]\n}\n}",
          "type": "text"
        }
      ]
    },
    {
      "role": "user",
      "content": [
        {
          "text": "please analysis",
          "type": "text"
        }
      ]
    },
    {
      "role": "assistant",
      "content": [
        {
          "text": "Sure, please provide the feedback from the four reviewers (R1, R2, R3, and R4) so I can analyze and summarize their comments accordingly.",
          "type": "text"
        }
      ]
    },
    {
      "role": "user",
      "content": [
        {
          "text": "Reviews of 1400 - Bridging the Literacy Gap for Adults: Understanding How Streamers Teach Adult Literacy on Livestreaming Platforms\nReviewer 4 (1AC)\nExpertise\nKnowledgeable\nOriginality\nMedium originality\nSignificance\nMedium significance\nResearch Quality\nLow research quality\nRecommendation\nI can go with either Reject or Revise and Resubmit\n1AC: The Meta-Review\nWhile all reviewers had many positive things to say about this paper, describing this study as “intriguing and important”, several issues have been brought up that need to be addressed in the revision.\nAll reviewers praised the relevance of the research topic, but they requested more clarity through the paper, including the motivation, methodology, data presentation and analysis. Especially the depth of analysis needs to be improved. How this study contributes to the existing literature also needs more elaboration.\nGiven the elaborate instructions by the reviewers, I hope the authors will find the reviews helpful to improve the paper in the upcoming revision cycle.\nReviewer 3 (2AC)\nExpertise\nExpert \nOriginality\nHigh originality\nSignificance\nVery high significance\nResearch Quality\nMedium research quality\nContribution Compared to Length\nThe paper length was commensurate with its contribution.\nFigure Descriptions\n(blank)\nRecommendation\nI recommend Revise and Resubmit\nReview\nThis paper investigates pedagogical models employed by livestream platforms and offers design implications to enhance the inclusivity of livestreaming platforms. It also highlights the power of community-driven approaches. Not only implications but also many recommendations can be extracted from this paper and applied to similar projects. The auto-generation tool is really clever, and we can see the actual benefits of having it for the communities to consume. \nThe data analysis is described at a high level. However, readers would benefit from having a rationale for the three categories and why those were chosen instead of the others that emerged during the data analysis. What were the principal codes, nodes, and themes emerged and grouped? \nI also appreciated that the authors identified that alternative metrics (e.g., social impact and others) are relevant in those communities and work differently than in traditional platforms. \nMore research like this one should be done in the HCI field. Research that can be applied to everyday life and improve lives and communities. It is an ecosystem that should be considered when promoting technologies for adoption by vulnerable communities. This paper brings it clearly and effectively, observing not only the receivers but also those who provide the content. It is possible to see the application of those findings in several contexts: health, financial education, and many other government and NGO projects across the Globe. For instance, in 4.1, the motivations are connected to the values and needs of vulnerable populations for learning. In 4.2, other platforms could be reused and adapted to other contexts in different countries, too. The challenges also repeat in several other low-literacy communities. The reuse of the findings could be highlighted in the paper.\nThe number of participants was not significant, and the paper would benefit from having additional studies to validate the findings and investigate how viewers and students receive this content. \nEven with the limitations listed, I see the value in this research and how it can applied in several communities in the Global South. \nReviewer 1 (reviewer)\nExpertise\nKnowledgeable\nOriginality\nMedium originality\nSignificance\nLow significance\nResearch Quality\nLow research quality\nContribution Compared to Length\nThe paper length was commensurate with its contribution.\nFigure Descriptions\nThe figure descriptions are adequate and follow the accessibility guidelines. \nRecommendation\nI can go with either Reject or Revise and Resubmit\nReview\nThis paper addresses an important topic of adult literacy via live streaming platforms which is significant to the HCI community. Although the topic of the paper is promising, and previous work is adequately reviewed. However, the contribution of the paper to the HCI community is vague. The paper in its current version lacks clarity in the method and finding sections which makes it less reliable for researchers and practitioners. \nThere are details missing in the method section which raises concerns about the reliability of the findings. For instance, it is hard to comprehend whether the streamers who were observed and interviewed were the same or not, and what was the rationale behind it. The paper indicates that 20 streamers were observed, however, 52 invitations for interviews were sent. Providing the details about the steps followed in the methodology will be helpful. \nOne of the main aspects of ethnographic methodology is the ‘positionality statement’. It is important in qualitative work to acknowledge the positionality and configuration of the research team. How many researchers were involved in the planning and analysis phase and what were their personal and professional experiences with the topic of the paper? Adding details about the positionality of the research team would strengthen the methodology. \nThe details about the data analysis process are minimal. How the open codes were dissolved into three themes - motivation, practice, and challenges is unclear. Adding examples to demonstrate will be useful to support that themes have indeed emerged from the data. \nIn the presentation of findings, it is unclear how the findings were merged from the two data sources. The findings in their current form look like cherry-picking examples, instead of providing the complete feel of the data from both sources. Sometimes there is only evidence from the interview responses. Reorganizing the findings to emphasize which theme was from which data source and what the differences and overlaps are in the findings from both sources will help to improve the findings section. \nThe discussion sections seem to be heavy on the prior literature on the topics. The pedagogical implications discussed seem disconnected from the findings of the empirical work. The paper will benefit from clarifying how the findings are contributing to the HCI community and explaining how the empirical findings from this work can be leveraged by the HCI practitioners in improving the design of live streaming platforms.\nReviewer 2 (reviewer)\nExpertise\nExpert \nOriginality\nLow originality\nSignificance\nLow significance\nResearch Quality\nLow research quality\nContribution Compared to Length\nThe paper was too long in addressing its claimed contribution. \nFigure Descriptions\n(blank)\nRecommendation\nI recommend Reject\nReview\nThis paper investigates the use of livestreaming for adult literacy education in China, especially in resource-deprived rural areas. Through a mixed-methods approach—comprising a week-long ethnographic observation of livestreaming sessions and interviews with twelve streamers—the study discovered the motivations, challenges, and opportunities of using livestreaming for literacy learning for Chinese adults. The paper also highlights potential enhancements for this learning method, such as tailoring platform designs specifically for educational purposes and encouraging a more diverse range of livestreaming content. While exploring the use of livestreaming for adult literacy learning is an intriguing and important topic, the quality of the current submission prevents me from accepting this paper. I will provide some suggestions for each section:\n1. Introduction: while the paper states that enhancing literacy is important and traditional education is not adequate for the under-served populations, it doesn't clearly explain why livestreaming can be a good solution for those people to learn literacy. Why can people not access traditional educational resources to learn literacy through livestreaming, and why is this important to them as well as to the HCI communities? \n2. The related work is not well-structured. While the paper briefly introduces the literacy education background of China, it doesn't closely connect the background with the study. Do those people with low literacy have the ability to use and access the livestreaming platform? Are there any other solutions the government and society are devoting to eliminate illiteracy? Can they access those resources? If not, why can livestreaming be a more accessible way for those groups? When introducing the literature about ICTs to enhance adult literacy, it is critical to answer two questions: why the previous ICTs is only limited to small communities and could not be scalable to a large number of people? Why has livestreaming or other resources on social media become a widely used way for literacy learning? When discussing the previous research about livestreaming, I don't agree that previous studies didn't reflect information about adult literacy learning; please further take a look at some recent studies for more information [1,2]. Besides, what is the difference in teaching literacy compared with other knowledge-sharing live streaming? How the potential difference may contribute to the HCI community? \n3. Method: It is unclear why this paper only focused on the streamer side. The audiences of those literacy livestreaming are an integral part of this practice, and if we want to understand how adult people learn literacy online, we should not only get information from the instructors' (streamers') view but also get insights from the audience's view. Besides, the observation process is not detailed described in the paper. How do the authors observe those streams? How are those streams distributed on different platforms? How do the platform characteristics influence the streaming? Are those livestreaming popular or not? How many viewers and what kind of user interactions happened? What if there are different sessions happening at the same time? Did they view all the streams for the 20 streamers in the 7 days? When doing the interview, how did the observation results influence the interview protocol? Is there any overlap between the interviewee and the streamers in the observation? How can the different kinds of data be analyzed, using the same method or not?\n4. Finding: there are some subsections that show interesting and specific practices for adult literacy livestreaming, while most of them are not novel enough and are not well contextualized to the literacy livestreaming. Building self-worth and gaining economic benefits are some common motivations for people to livestream. Similarly, building WeChat group and establishing a private fan community is also common practice for livestreaming in China, which has been well-studied in previous livestreaming studies in the context of China. Meanwhile, some findings, like some users joining the live call together and trying to read the words aloud, which is unique to literacy learning, can be emphasized. The social and emotional status of the viewers to expose themselves to the broader audience can be further studied. How low-literacy people type and engage with the livestreaming is also interesting.\nIn summary, this paper delves into the potential of livestreaming as a tool for adult literacy education in resource-limited rural areas of China. While it brings forth an engaging topic, the current structure and clarity need improvement. The paper should better connect its findings with the broader context of literacy education, elucidate the role of livestreaming, and offer more comprehensive details about its research methods. Furthermore, it would benefit from a deeper exploration of the unique aspects of livestreaming for literacy while also addressing the common practices observed in other contexts.\n[1]Chen, S., Chen, X., Lu, Z., & Huang, Y. (2023). \" My Culture, My People, My Hometown\": Chinese Ethnic Minorities Seeking Cultural Sustainability by Video Blogging. _Proceedings of the ACM on Human-Computer Interaction_, _7_(CSCW1), 1-30.\n[2]Melisa, D., Pawito, P., & Slamet, Y. (2020, November). The Use of YouTube Social Media to Educate Society through Virtual Literacy during COVID-19 Pandemic. In _The Proceedings of the 4th International Conference of Social Science and Education, ICSSED 2020, August 4-5 2020, Yogyakarta, Indonesia_.\n",
          "type": "text"
        }
      ]
    },
    {
      "role": "assistant",
      "content": [
        {
          "text": "{\n\"Section1: Keyword of each reviewer\":\n[\n    {\n        \"Reviewer Involved\": \"Reviewer1\",\n        \"Topic Keywords\": \"Important topic, vague contribution, unclear methodology, positionality statement, unclear findings\"\n    },\n    {\n        \"Reviewer Involved\": \"Reviewer2\",\n        \"Topic Keywords\": \"Intriguing topic, unclear introduction, weak related work, unclear methodology, common findings\"\n    },\n    {\n        \"Reviewer Involved\": \"Reviewer3\",\n        \"Topic Keywords\": \"High originality, high significance, clever tool, unclear data analysis, additional studies needed\"\n    },\n    {\n        \"Reviewer Involved\": \"Reviewer4\",\n        \"Topic Keywords\": \"Intriguing study, relevance, clarity needed, depth of analysis, contribution to literature\"\n    }\n]\n}\n{\n\"Section2: Keyword of All reviewers\":\n[\n    {\n        \"ID\": \"1\",\n        \"Topic Keywords\": \"Unclear methodology\",\n        \"Reviewer Involved\": \"Reviewer1, Reviewer2, Reviewer3, Reviewer4\",\n        \"Summary\": \"All reviewers highlighted the need for more clarity in the methodology section. Reviewer 1 pointed out missing details about the streamers and the rationale behind the methodology. Reviewer 2 emphasized the lack of detail in the observation process and the need for insights from the audience's view. Reviewer 3 requested a rationale for the chosen categories in data analysis. Reviewer 4 mentioned the need for more clarity in the methodology and data presentation.\"\n    },\n    {\n        \"ID\": \"2\",\n        \"Topic Keywords\": \"Contribution to literature\",\n        \"Reviewer Involved\": \"Reviewer1, Reviewer2, Reviewer4\",\n        \"Summary\": \"Reviewers 1, 2, and 4 noted that the paper's contribution to the existing literature needs more elaboration. Reviewer 1 found the contribution to the HCI community vague. Reviewer 2 suggested better connecting the findings with the broader context of literacy education. Reviewer 4 mentioned that the study's contribution to the existing literature needs more elaboration.\"\n    },\n    {\n        \"ID\": \"3\",\n        \"Topic Keywords\": \"Significance of topic\",\n        \"Reviewer Involved\": \"Reviewer1, Reviewer3, Reviewer4\",\n        \"Summary\": \"Reviewers 1, 3, and 4 agreed on the significance of the research topic. Reviewer 1 acknowledged the importance of the topic for the HCI community. Reviewer 3 highlighted the very high significance of the study. Reviewer 4 mentioned that all reviewers praised the relevance of the research topic.\"\n    }\n]\n}\n{\n\"Section3: Disagreement Keyword of All reviewers\":\n[\n    {\n        \"ID\": \"1\",\n        \"Topic Keywords\": \"Originality\",\n        \"Reviewer Involved\": \"Reviewer1, Reviewer2, Reviewer3\",\n        \"Summary\": \"There is a disagreement on the originality of the paper. Reviewer 1 rated the originality as medium, Reviewer 2 rated it as low, while Reviewer 3 rated it as high.\",\n        \"Prompt Question\": \"Reviewer 1 and Reviewer 2, could you elaborate on why you rated the originality of the paper as medium and low, respectively, while Reviewer 3 rated it as high?\"\n    },\n    {\n        \"ID\": \"2\",\n        \"Topic Keywords\": \"Research quality\",\n        \"Reviewer Involved\": \"Reviewer1, Reviewer2, Reviewer3\",\n        \"Summary\": \"There is a disagreement on the research quality of the paper. Reviewer 1 and Reviewer 2 rated the research quality as low, while Reviewer 3 rated it as medium.\",\n        \"Prompt Question\": \"Reviewer 3, could you provide more details on why you rated the research quality as medium, in contrast to Reviewers 1 and 2 who rated it as low?\"\n    },\n    {\n        \"ID\": \"3\",\n        \"Topic Keywords\": \"Recommendation\",\n        \"Reviewer Involved\": \"Reviewer1, Reviewer2, Reviewer3, Reviewer4\",\n        \"Summary\": \"There is a disagreement on the recommendation for the paper. Reviewer 1 and Reviewer 4 are ambivalent between reject or revise and resubmit, Reviewer 2 recommends reject, while Reviewer 3 recommends revise and resubmit.\",\n        \"Prompt Question\": \"Reviewer 2, could you explain your reasons for recommending rejection, while Reviewer 3 recommends revise and resubmit, and Reviewers 1 and 4 are ambivalent?\"\n    }\n]\n}\n{\n\"Section4: Personalized Message\":\n[\n    {\n        \"Reviewer Involved\": \"Reviewer1\",\n        \"Prompt Question\": \"You mentioned that the contribution of the paper to the HCI community is vague. Could you provide specific suggestions on how the authors could clarify and strengthen this aspect?\"\n    },\n    {\n        \"Reviewer Involved\": \"Reviewer2\",\n        \"Prompt Question\": \"You noted that the related work is not well-structured and the introduction is unclear. Could you suggest specific areas in the related work and introduction that need improvement?\"\n    },\n    {\n        \"Reviewer Involved\": \"Reviewer3\",\n        \"Prompt Question\": \"You highlighted the high significance and originality of the paper but mentioned the need for additional studies. Could you suggest specific areas where further research is needed to validate the findings?\"\n    },\n    {\n        \"Reviewer Involved\": \"Reviewer4\",\n        \"Prompt Question\": \"You mentioned that the depth of analysis needs to be improved. Could you provide specific suggestions on how the authors could enhance the depth of their analysis?\"\n    }\n]\n}",
          "type": "text"
        }
      ]
    }
  ],
  temperature=0.2,
  max_tokens=4095,
  top_p=1,
  frequency_penalty=0,
  presence_penalty=0
)

  print(response.choices[0].message.content)


  ########